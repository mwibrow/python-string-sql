{
    "fileTypes": ["py"],
    "injectionSelector":
      "L:source.python -string",
    "patterns": [
      {
        "contentName": "meta.embedded.block.sql",
        "begin":
          "('''|\"\"\")(?=\\s*(-- (?:sql|SQL)|/\\*\\s*(?:sql|SQL)\\s*\\*/))",
        "end": "(\\1)",
        "beginCaptures": {
          "1": {
            "name": "string.quoted.multi.python"
          }
        },
        "endCaptures": {
            "1": {
              "name": "string.quoted.multi.python"
            }
          },
        "patterns": [
          {
            "include": "source.sql"
          }
        ]
      },
      {
        "contentName": "meta.embedded.inline.sql", 
        "begin":
            "('''|\"\"\")(?=\\s*(?:SELECT|INSERT|UPDATE|DELETE|CREATE|REPLACE|ALTER|WITH)\\b)",
        "end": "(\\1)",
        "beginCaptures": {
          "1": {
            "name": "string.quoted.multi.python"
          }
        },
        "endCaptures": {
            "1": {
              "name": "string.quoted.multi.python"
            }
          },
        "patterns": [
          {
            "include": "source.sql"
          }
        ]
      }
    ],
    "scopeName": "inline.python-sql"
  }
